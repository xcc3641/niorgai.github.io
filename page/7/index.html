<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="Android | jianqiu's blog" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: ''
    },
    sidebar: 'post'
  };
</script>




  <title> Jianqiu's blog </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Jianqiu's blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            <i class="menu-item-icon icon-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            标签
          </a>
        </li>
      
    </ul>
  

  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/01/08/Android-Service-二/">
                Android Service (二)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015 Jan 8
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/01/08/Android-Service-二/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/08/Android-Service-二/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h4 id="后台服务">后台服务</h4><p>在<a href="http://niorgai.github.io/2015/01/06/Android-Service-%E4%B8%80/">第一篇的Service介绍</a>中说到Service的启动是后台运行,其实这里的后台跟Thread完全没有关系，这里所说的Service后台只是表示它不依赖UI，但事实上他与所绑定的组件是在<strong>同一个进程中</strong>运行的！所以如果Service中执行了耗时操作，一样会提示ANR。</p>
<p>如果Service与Activity绑定，即使Activity被销毁，或者程序被kill，Service还是会继续运行。当程序重新运行或者Activity重新与Service绑定后，可以获取Service中Binder的实例并调用其任意的公有方法。</p>
<h6 id="如果希望在Service中执行耗时操作，只需要在Service中新建一个子线程，如下图：">如果希望在Service中执行耗时操作，只需要在Service中新建一个子线程，如下图：</h6><pre><code><span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>{
    <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {
        <span class="annotation">@Override</span>
        <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{
            <span class="comment">// 开始执行后台任务</span>
        }
    }).start();
    <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">onStartCommand</span><span class="params">(intent, flags, startId)</span></span>;
}
</code></pre><h6 id="IntentService:方便用于执行耗时操作的Service子类">IntentService:方便用于执行耗时操作的Service子类</h6><p>文档原文：This is a subclass of Service that uses a worker thread to handle all start requests, one at a time. This is the best option if you don’t require that your service handle multiple requests simultaneously. All you need to do is implement onHandleIntent(), which receives the intent for each start request so you can do the background work.</p>
<p>当Service不需要同时处理多个请求时，使用IntentService会很方便。IntentService会默认开启一个worker thread来处理startService的请求，因为已经默认开了一个thread了，所以可以在Service中直接处理耗时操作。</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">myService</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">IntentService</span>{</span>

        <span class="annotation">@Override</span>
        <span class="keyword">protected</span> void onHandleIntent(<span class="type">Intent</span> intent) {

        }
    }
</code></pre><hr>
<h4 id="前台服务">前台服务</h4><p>Service的系统优先级是比较低的，当系统内存不足时可能回收后台运行的Service，如果希望自己的Servie不被回收，可以使用前台Service，同时前台Service也会显示在系统的状态栏，下拉可以看到相关状态。</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Service</span>{</span>

        <span class="annotation">@Override</span>
        public void onCreate() {
            <span class="type">Notification</span> notification = <span class="keyword">new</span> <span class="type">Notification</span>(
                    <span class="type">R</span>.drawable.ic_launcher,<span class="string">"有通知"</span>,<span class="type">System</span>.currentTimeMillis());
            <span class="comment">//设置目标Intent</span>
            <span class="type">Intent</span> notifyIntent = <span class="keyword">new</span> <span class="type">Intent</span>(<span class="keyword">this</span>,<span class="type">MainActivity</span>.<span class="keyword">class</span>);
            <span class="comment">//设置点击跳转Intent</span>
            <span class="type">PendingIntent</span> pendingIntent = <span class="type">PendingIntent</span>.getActivity(
                    <span class="keyword">this</span>,<span class="number">0</span>,notifyIntent,<span class="number">0</span>);
            notification.setLatestEventInfo(<span class="keyword">this</span>,<span class="string">"通知的标题"</span>,<span class="string">"通知的内容"</span>,pendingIntent);
            startForeground(<span class="number">0</span>,notification);
            <span class="comment">//</span>
            <span class="keyword">super</span>.onCreate();
        }
    }
</code></pre><p> 其实就是创建一个Notification,通过setLatestEventInfo方法设置内容，startForeground方法变将其变为一个前台Service。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/01/06/Android-Service-一/">
                Android Service (一)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015 Jan 6
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/01/06/Android-Service-一/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/06/Android-Service-一/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Service(服务)也是Android四大应用程序组件之一，Service都是通过android.app.Service类继承而来，在这里先介绍Service基础。</p>
<p>Service没有UI部分，而是一直在Android后台运行，通常用于音乐播放或下载功能。可以通过onBind方法绑定Service与Activity,也可以通过onStartCommand方法启动Service(onStart方法已经废弃)。</p>
<ul>
<li><strong>使用onStartCommand方法启动Service,在应用退出时不会销毁服务。除非程序自己销毁</strong></li>
<li><strong>使用onBind方法启动Service时，在绑定的组件销毁时也会销毁绑定的服务</strong></li>
</ul>
<p>Service的生命周期如下：</p>
<p><img src="http://7sbqys.com1.z0.glb.clouddn.com/live_of_service.png" alt=""></p>
<p>关于bindService的生命周期,这张图的解释也比较细致。</p>
<p><img src="http://7sbqys.com1.z0.glb.clouddn.com/bind_service.png" alt=""></p>
<p>下面来举个栗子：<strong>Service的名字为MyService</strong></p>
<ul>
<li><p>可以通过以下代码启动服务。</p>
<pre><code>Intent serviceIntent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>,MyService.class);
<span class="comment">//启动服务</span>
startService(serviceIntent);
<span class="comment">//绑定服务,需要先定义ServiceConnection</span>
ServiceConnection connection = <span class="keyword">new</span> ServiceConnection() {
    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onServiceConnected</span><span class="params">(ComponentName name, IBinder service)</span> </span>{
        <span class="comment">//start task</span>
    }

    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onServiceDisconnected</span><span class="params">(ComponentName name)</span> </span>{

    }
   };
<span class="comment">//第三个参数为标志位,BIND_AUTO_CREATE表示绑定时自动创建Service(调用onCreate方法)</span>
   bindService(serviceIntent,connection,BIND_AUTO_CREATE);
</code></pre></li>
</ul>
<pre><code>还需在AndroidManifest.xml的&lt;<span class="type">application</span>&gt;标签中添加以下代码:

    &lt;service android:enabled=<span class="string">"true"</span>
         android:<span class="property">name</span>=<span class="string">".MyService"</span>/&gt;
</code></pre><ul>
<li><p>可以通过以下代码销毁服务。</p>
<pre><code><span class="comment">//销毁服务</span>
stopService<span class="params">(serviceIntent)</span>;
<span class="comment">//解绑服务</span>
unbindService<span class="params">(serviceIntent)</span>;
</code></pre></li>
</ul>
<p>注意只有当一个Service没有与任何组件关联并停止时，该Service才会被销毁。即如果既调用了startService又调用了bindService,则要同时调用stopService和unbindService才能销毁服务。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/01/05/Content-Provider介绍/">
                Content Provider介绍
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015 Jan 5
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/01/05/Content-Provider介绍/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/05/Content-Provider介绍/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Content Provider顾名思义，表示内容提供者，提供了对外部数据进行增、删、查、改的功能。</p>
<ol>
<li>通过Context.getContentResolver获取ContentResolver对象，并通过ContentResolver.insert、ContentResolver.delete、ContentResolver.query、ContentResolver.update进行操作。</li>
<li>通过设置<user-permission>可以对特定的内容设置相应的读写权限。</user-permission></li>
<li><p>不需要打开应用即可通过Content Provider对象访问应用的数据。</p>
<h4 id="方法原型：">方法原型：</h4><p> public Cursor query(Uri uri, String[] projection,</p>
<pre><code><span class="keyword">String </span><span class="keyword">selection, </span><span class="keyword">String[] </span><span class="keyword">selectionArgs, </span><span class="keyword">String </span>sortOrder)<span class="comment">;</span>
</code></pre></li>
</ol>
<ul>
<li>uri表示Content Provider的Uri，必须以”content://“开头。</li>
<li>projection表示所查询的字段，即SQL中select和from的中间部分,传null时表示查询全部。</li>
<li>selection表示查询条件，即SQL中where后的部分。</li>
<li>selectionArgs表示查询条件的参数值。</li>
<li>sortOrder表示需要排序的字段，即SQL中order by的部分。</li>
</ul>
<p>eg:</p>
<pre><code>contentProvider.query(<span class="built_in">Uri</span>.parse(<span class="string">"content://sms/inbox"</span>),<span class="keyword">null</span>,
                        <span class="string">"address like ?"</span>,<span class="keyword">new</span> <span class="built_in">String</span>[]{<span class="string">"1%"</span>},<span class="keyword">null</span>);
</code></pre><p>表示从收到的短信中查询所有1开头的电话号码所发送的短信。</p>
<ul>
<li><p>插入方法：</p>
<pre><code>public Uri <span class="operator"><span class="keyword">insert</span>(Uri uri, ContentValues <span class="keyword">values</span>);</span>
</code></pre></li>
<li><p>删除方法：</p>
<pre><code>public <span class="built_in">int</span> delete(<span class="built_in">Uri</span> uri, <span class="built_in">String</span> selection, <span class="built_in">String</span>[] selectionArgs);
</code></pre></li>
<li><p>修改方法：</p>
<pre><code>public int <span class="operator"><span class="keyword">update</span>(Uri uri, ContentValues <span class="keyword">values</span>, <span class="keyword">String</span> selection,
    <span class="keyword">String</span>[] selectionArgs);</span>
</code></pre></li>
</ul>
<h4 id="如果希望自定义Content_Provider，需要注意：">如果希望自定义Content Provider，需要注意：</h4><ol>
<li>定义Content Provider的URI，URI包括authority和path两部分，完整的URI可以表示分content://authority/path</li>
<li><p>通过UriMatcher映射Uri与返回代码，eg：</p>
<pre><code>String AUTHORITY = <span class="string">"mobile.android.myprovider"</span>;
<span class="keyword">int</span> <span class="built_in">CITIES</span> = <span class="number">1</span>;
<span class="keyword">int</span> <span class="built_in">CITY_CODE</span> = <span class="number">2</span>;

<span class="comment">//开始映射</span>
UriMatcher uriMatcher = new UriMatcher(UriMatcher<span class="variable">.NO_MATCH</span>);
uriMatcher<span class="variable">.addURI</span>(AUTHORITY,<span class="string">"cities"</span>,<span class="built_in">CITIES</span>);
uriMatcher<span class="variable">.addURI</span>(AUTHORITY,<span class="string">"code/#"</span>,<span class="built_in">CITY_CODE</span>);
</code></pre></li>
<li><p>根据对增、删、查、改功能的需求实现相应的insert、delete、query、update方法，如果不需要的话可以使相应的方法直接返回null。</p>
<pre><code><span class="comment">//解析Uri</span>
<span class="keyword">switch</span>(uriMatcher.match(uri)){
    <span class="keyword">case</span> <span class="string">CITIES:</span>
            <span class="comment">//</span>
    <span class="keyword">case</span> <span class="string">CITY_CODE:</span>
            <span class="comment">//code为uri中content://authority/code/后的内容</span>
            <span class="typename">int</span> code = uri.getPathSegments().get(<span class="number">1</span>);
}
</code></pre></li>
</ol>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/01/03/Android-SQLite数据库/">
                Android SQLite数据库
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015 Jan 3
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/01/03/Android-SQLite数据库/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/03/Android-SQLite数据库/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>操作数据库主要利用android.database.sqlite.SQLiteDatabase这个包，使用方法一般有3种：</p>
<ol>
<li><p>使用SQLiteOpenHelper的子类，SQLiteOpenHelper是一个抽象类，其子类必须实现这两个方法：</p>
<p> 方法1：</p>
<pre><code><span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(SQLiteDatabase db)</span> </span>{  

}
</code></pre><p>该方法将先在  /data/data/<package name="">/databases 目录下寻找数据库，如果数据库不存在则调用该方法。可以在该方法中调用</package></p>
<pre><code>    <span class="tag">db</span><span class="class">.execSQL</span>(<span class="tag">sql</span>);

方法，其中<span class="tag">sql</span>为自定义的<span class="tag">sql</span>语句，可以建表及插入数据。
</code></pre><p> 方法2：</p>
<pre><code><span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(SQLiteDatabase db, <span class="keyword">int</span> oldVersion, <span class="keyword">int</span> newVersion)</span> </span>{

}
</code></pre><p> 该方法在数据库存在且当前版本号高于上次版本号时会调用，子类如果不需要可以不进行任何操作。</p>
</li>
<li><p>如果直接使用SQLiteDatabase可以创建任意路径的数据库，方法原型为：</p>
<pre><code>public <span class="literal">static</span> SQLiteDatabase openOrCreateDatabase(<span class="built_in">String</span> path, CursorFactory <span class="literal">factory</span>) 
</code></pre><p> 然后利用contentValues或者直接调用execSQL等语句直接实现。</p>
</li>
<li><p>如果只想创建存在于RAM中的数据库，并且在程序退出时自动销毁数据库，可以直接调用</p>
<pre><code>SQLiteDatabase <span class="variable">database =</span> SQLiteDatabase.create(<span class="constant">null</span>);
</code></pre></li>
</ol>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/12/30/OpenFileOutput-OpenFileIntput-使用/">
                OpenFileOutput & OpenFileIntput 使用
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014 Dec 30
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/12/30/OpenFileOutput-OpenFileIntput-使用/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/30/OpenFileOutput-OpenFileIntput-使用/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>与sharedPreference相似，OpenFileOutput和OpenFileIntput也是在Context中调用，同时将文件保存在以下路径：</p>
<pre><code><span class="type">data</span>/<span class="type">data</span>/&lt;package <span class="keyword">name</span>&gt;/files
</code></pre><p><strong>name为String类型，表示文件名称</strong></p>
<p><strong>text为String类型，表示所需写入的内容</strong></p>
<p>使用方法(需要注意catch FileNotFoundException)：</p>
<p>写:</p>
<pre><code>OutputStream os = context.openFileOutput<span class="params">(name,Context.MODE_PRIVATE)</span>;
os.write<span class="params">(text.getBytes<span class="params">(<span class="string">"UTF-8"</span>)</span>)</span>;
os.close<span class="params">()</span>;
</code></pre><p>读:</p>
<pre><code>InputStream <span class="keyword">is</span> = <span class="keyword">context</span>.openFileInput(name);
byte[] <span class="keyword">buffer</span> = <span class="keyword">new</span> byte[<span class="number">100</span>];
int byteCount = <span class="keyword">is</span>.read(<span class="keyword">buffer</span>);
<span class="typename">String</span> str = <span class="keyword">new</span> <span class="typename">String</span>(<span class="keyword">buffer</span>,<span class="number">0</span>,byteCount,<span class="string">"UTF-8"</span>);
<span class="keyword">is</span>.close();
</code></pre>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  
  <div class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/">&laquo;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/">&raquo;</a>
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Jianqiu" />
          <p class="site-author-name">Jianqiu</p>
        </div>
        <p class="site-description motion-element">Android | jianqiu's blog</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">48</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">41</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>
        
      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Jianqiu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  

  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"niorgai"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  

  
  <!-- lazyload -->
  <script type="text/javascript" src="/js/lazyload.js"></script>
      <script type="text/javascript">
        jQuery(function() {          
            jQuery("#posts img").lazyload({
              placeholder:"http://www.arao.me/loading.gif",  
                effect:"fadeIn"
              });
            });
    </script>   
</body>
</html>
